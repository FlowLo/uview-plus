import{_ as t}from"./u-loading-icon.0186de71.js";import{m as e,k as o,d as i,o as s,c as n,w as a,a as r,p as c,q as m,n as l,f as p,t as u,g,i as f}from"./index.29fdcc6f.js";import{r as d}from"./uni-app.es.612c7901.js";import{_ as y}from"./u-icon.dde8088f.js";import{_ as h}from"./u-gap.6d3aa7c9.js";import{_ as C}from"./u-overlay.ee4c7e0b.js";import{_}from"./plugin-vue_export-helper.21dcd24c.js";var w=_({name:"u-toast",mixins:[e,o],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!1,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?uni.$u.type2icon(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=uni.$u.hexToRgb(uni.$u.color[this.tmpConfig.type])),t},contentStyle(){const t=uni.$u.sys().windowHeight,e={};let o=0;return"top"===this.tmpConfig.position?o=.25*-t:"bottom"===this.tmpConfig.position&&(o=.25*t),e.transform=`translateY(${o}px)`,e}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=e=>this.show({type:t,message:e})}))},methods:{show(t){this.tmpConfig=uni.$u.deepMerge(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeDestroy(){this.clearTimer()}},[["render",function(e,o,_,w,x,S){const b=d(i("u-loading-icon"),t),v=d(i("u-icon"),y),j=d(i("u-gap"),h),T=g,$=f,k=d(i("u-overlay"),C);return s(),n($,{class:"u-toast"},{default:a((()=>[r(k,{show:x.isShow,"custom-style":S.overlayStyle},{default:a((()=>[r($,{class:c(["u-toast__content",["u-type-"+x.tmpConfig.type,"loading"===x.tmpConfig.type||x.tmpConfig.loading?"u-toast__content--loading":""]]),style:m([S.contentStyle])},{default:a((()=>["loading"===x.tmpConfig.type?(s(),n(b,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==x.tmpConfig.type&&S.iconName?(s(),n(v,{key:1,name:S.iconName,size:"17",color:x.tmpConfig.type,customStyle:S.iconStyle},null,8,["name","color","customStyle"])):l("",!0),"loading"===x.tmpConfig.type||x.tmpConfig.loading?(s(),n(j,{key:2,height:"12",bgColor:"transparent"})):l("",!0),r(T,{class:c(["u-toast__content__text",["u-toast__content__text--"+x.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:a((()=>[p(u(x.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-c28f0dbc"]]);export{w as _};
